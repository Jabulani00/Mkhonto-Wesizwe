<ion-header>
  <ion-toolbar>
    <ion-title>Stats</ion-title>
    <ion-icon routerLink="/region" slot="end" name="arrow-back-outline"></ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="container">
    <!-- Stats Section -->
    <div class="stats">
      <h2>Election Statistics</h2>
      <div class="stats-grid">
        <div class="stat-block">
          <strong>Total Voter Roll:</strong>
          <span>{{ totalVoterRoll }}</span>
        </div>
        <div class="stat-block">
          <strong>Total Voter Turnout:</strong>
          <span>{{ totalVoterTurnout }}</span>
        </div>
        <div class="stat-block">
          <strong>Total Spoilt Ballots:</strong>
          <span>{{ totalSpoiltBallots }}</span>
        </div>
        <div class="stat-block">
          <strong>Total Votes:</strong>
          <span>{{ totalVotes }}</span>
        </div>
        <div class="stat-block">
          <strong>ANC Votes:</strong>
          <span>{{ ancVotes }}</span>
        </div>
        <div class="stat-block">
          <strong>DA Votes:</strong>
          <span>{{ daVotes }}</span>
        </div>
        <div class="stat-block">
          <strong>EFF Votes:</strong>
          <span>{{ effVotes }}</span>
        </div>
        <div class="stat-block">
          <strong>IFP Votes:</strong>
          <span>{{ ifpVotes }}</span>
        </div>
        <div class="stat-block">
          <strong>MK Votes:</strong>
          <span>{{ mkVotes }}</span>
        </div>
        <div class="stat-block">
          <strong>NFP Votes:</strong>
          <span>{{ nfpVotes }}</span>
        </div>
        <div class="stat-block">
          <strong>UDM Votes:</strong>
          <span>{{ udmVotes }}</span>
        </div>
      </div>
    </div>

    <!-- Fraud Alerts Section -->
    <div class="fraud-alerts" *ngIf="fraudAlerts.length > 0">
      <h2>Fraud Alerts</h2>
      <div class="alert-slider">
        <div class="alert" *ngFor="let alert of fraudAlerts">
          <ion-icon name="warning-outline" class="alert-icon"></ion-icon>
          <div class="alert-content">
            <strong>{{ alert.municipality }} - Ward {{ alert.ward }}:</strong>
            <p>Total Votes: {{ alert.totalVotes }}</p>
            <p>Voter Roll: {{ alert.voterRoll }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Segment Control -->
    <ion-segment (ionChange)="segmentChanged($event)" [scrollable]="true">
      
      <ion-segment-button value="votesVsVoterRoll" checked>Votes Parties</ion-segment-button>
      
      <ion-segment-button value="generalStats">General Stats</ion-segment-button>
    </ion-segment>

    <!-- Charts -->
    
    <div id="votesVsVoterRoll-chart" class="chart-container" >
      <canvas #votesVsVoterRollChart></canvas>
    </div>
  
    <div id="generalStats-chart" class="chart-container" style="display: none;">
      <canvas #generalStatsChart></canvas>
    </div>
  </div>
</ion-content>
